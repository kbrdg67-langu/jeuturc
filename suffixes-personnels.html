<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Suffixes personnels ‚Äî Traductions</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      color: #2d3748;
    }

    main {
      max-width: 900px;
      margin: 0 auto;
    }

    h1 {
      color: white;
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .subtitle {
      text-align: center;
      color: rgba(255,255,255,0.9);
      font-size: 1.1rem;
      margin-bottom: 30px;
    }

    .instructions {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      font-size: 1rem;
      line-height: 1.6;
    }

    .score-display {
      background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .score-display h2 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }

    .score-numbers {
      font-size: 2rem;
      font-weight: 700;
    }

    .progress-bar {
      background: rgba(255,255,255,0.3);
      height: 8px;
      border-radius: 4px;
      margin-top: 15px;
      overflow: hidden;
    }

    .progress-fill {
      background: white;
      height: 100%;
      border-radius: 4px;
      transition: width 0.5s ease;
    }

    .exercise {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }

    .exercise-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }

    .exercise-list {
      list-style: none;
      margin-bottom: 25px;
    }

    .exercise-item {
      padding: 15px;
      margin-bottom: 12px;
      border-radius: 8px;
      background: #f7fafc;
      border-left: 4px solid #e2e8f0;
      transition: all 0.3s ease;
      font-size: 1.1rem;
    }

    .exercise-item:hover {
      background: #edf2f7;
    }

    .translation-input {
      width: 100%;
      max-width: 400px;
      padding: 10px 15px;
      margin-top: 8px;
      border: 2px solid #cbd5e0;
      border-radius: 6px;
      font-size: 1rem;
      transition: all 0.3s ease;
      font-family: inherit;
    }

    .translation-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .button-group {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(102, 126, 234, 0.2);
    }

    button:hover {
      background: #5a67d8;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
    }

    button:active {
      transform: translateY(0);
    }

    #resetBtn {
      background: #718096;
    }

    #resetBtn:hover {
      background: #4a5568;
    }

    #generateBtn {
      background: #ed8936;
    }

    #generateBtn:hover {
      background: #dd6b20;
    }

    #results {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      text-align: center;
    }

    .small {
      font-size: 0.9rem;
      color: #e53e3e;
      font-style: italic;
      margin-top: 6px;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }

      .exercise {
        padding: 20px;
      }

      .translation-input {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <main>
    <h1>Suffixes Personnels Turcs</h1>
    <p class="subtitle">Ma√Ætrisez les possessifs en turc üáπüá∑</p>

    <div class="score-display" id="scoreDisplay" style="display:none;">
      <h2>Votre progression</h2>
      <div class="score-numbers">
        <span id="scoreCorrect">0</span> / <span id="scoreTotal">0</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
      </div>
    </div>

    <p class="instructions">
      <strong>Instructions :</strong> Traduisez les expressions suivantes en turc en utilisant les suffixes possessifs appropri√©s. 
      Vous pouvez utiliser la forme compl√®te (avec pronom) ou la forme courte (sans pronom).
      <br><br>
      Cliquez sur <strong>"Nouvelles expressions"</strong> pour g√©n√©rer un nouvel exercice al√©atoire.
    </p>

    <div class="exercise">
      <h2 class="exercise-title">Possessifs √† traduire</h2>
      <ol class="exercise-list" id="exerciseList"></ol>

      <div class="button-group">
        <button id="generateBtn">üîÑ Nouvelles expressions</button>
        <button id="checkBtn">‚úì V√©rifier</button>
        <button id="resetBtn">‚ü≤ R√©initialiser</button>
      </div>

      <div id="results"></div>
    </div>
  </main>

  <script>
    // Large pool of exercises
    const allExercises = [
      // Base
      { fr: "ma voiture", variants: ['arabam', 'benim arabam'] },
      { fr: "ton livre", variants: ['kitabƒ±n', 'senin kitabƒ±n'] },
      { fr: "sa maison", variants: ['evi', 'onun evi'] },
      { fr: "notre √©cole", variants: ['okulumuz', 'bizim okulumuz'] },
      { fr: "votre travail", variants: ['i≈üiniz', 'sizin i≈üiniz'] },
      { fr: "leur chat", variants: ['kedileri', 'onlarƒ±n kedileri'] },
      { fr: "mon nom", variants: ['adƒ±m', 'benim adƒ±m', 'ismim', 'benim ismim'] },
      { fr: "ta chambre", variants: ['odan', 'senin odan'] },
      
      // Famille
      { fr: "mon fr√®re", variants: ['karde≈üim', 'benim karde≈üim', 'erkek karde≈üim'] },
      { fr: "ta s≈ìur", variants: ['kƒ±z karde≈üin', 'senin kƒ±z karde≈üin'] },
      { fr: "sa m√®re", variants: ['annesi', 'onun annesi'] },
      { fr: "notre p√®re", variants: ['babamƒ±z', 'bizim babamƒ±z'] },
      { fr: "votre famille", variants: ['aileniz', 'sizin aileniz'] },
      { fr: "leur enfant", variants: ['√ßocuklarƒ±', 'onlarƒ±n √ßocuklarƒ±'] },
      { fr: "mon fils", variants: ['oƒülum', 'benim oƒülum'] },
      { fr: "ta fille", variants: ['kƒ±zƒ±n', 'senin kƒ±zƒ±n'] },
      { fr: "son grand-p√®re", variants: ['dedesi', 'onun dedesi'] },
      { fr: "notre grand-m√®re", variants: ['anneann√©miz', 'b√ºy√ºkannemiz', 'bizim b√ºy√ºkannemiz'] },
      
      // Objets quotidiens
      { fr: "mon ordinateur", variants: ['bilgisayarƒ±m', 'benim bilgisayarƒ±m'] },
      { fr: "ton t√©l√©phone", variants: ['telefonun', 'senin telefonun'] },
      { fr: "sa table", variants: ['masasƒ±', 'onun masasƒ±'] },
      { fr: "notre porte", variants: ['kapƒ±mƒ±z', 'bizim kapƒ±mƒ±z'] },
      { fr: "votre fen√™tre", variants: ['pencereniz', 'sizin pencereniz'] },
      { fr: "leur chaise", variants: ['sandalyeleri', 'onlarƒ±n sandalyeleri'] },
      { fr: "mon sac", variants: ['√ßantam', 'benim √ßantam'] },
      { fr: "ton stylo", variants: ['kaleminiz', 'kalemƒ±n', 'senin kalemin'] },
      { fr: "son cahier", variants: ['defteri', 'onun defteri'] },
      { fr: "notre cl√©", variants: ['anahtarƒ±mƒ±z', 'bizim anahtarƒ±mƒ±z'] },
      
      // Corps
      { fr: "ma main", variants: ['elim', 'benim elim'] },
      { fr: "ton pied", variants: ['ayaƒüƒ±n', 'senin ayaƒüƒ±n'] },
      { fr: "sa t√™te", variants: ['ba≈üƒ±', 'onun ba≈üƒ±', 'kafasƒ±'] },
      { fr: "nos yeux", variants: ['g√∂zlerimiz', 'bizim g√∂zlerimiz'] },
      { fr: "vos oreilles", variants: ['kulaklarƒ±nƒ±z', 'sizin kulaklarƒ±nƒ±z'] },
      { fr: "mon c≈ìur", variants: ['kalbim', 'benim kalbim', 'y√ºreƒüim'] },
      { fr: "ton bras", variants: ['kolun', 'senin kolun'] },
      { fr: "sa jambe", variants: ['bacaƒüƒ±', 'onun bacaƒüƒ±'] },
      
      // Lieux et espaces
      { fr: "mon pays", variants: ['√ºlkem', 'benim √ºlkem'] },
      { fr: "ta ville", variants: ['≈üehrin', 'senin ≈üehrin'] },
      { fr: "son village", variants: ['k√∂y√º', 'onun k√∂y√º'] },
      { fr: "notre quartier", variants: ['mahallemiz', 'bizim mahallemiz'] },
      { fr: "votre rue", variants: ['caddeniz', 'sokaƒüƒ±nƒ±z', 'sizin caddeniz'] },
      { fr: "leur jardin", variants: ['bah√ßeleri', 'onlarƒ±n bah√ßeleri'] },
      { fr: "mon bureau", variants: ['ofisim', 'benim ofisim', 'b√ºrom'] },
      { fr: "ta cuisine", variants: ['mutfaƒüƒ±n', 'senin mutfaƒüƒ±n'] },
      { fr: "son salon", variants: ['salonu', 'onun salonu'] },
      
      // Temps
      { fr: "mon jour", variants: ['g√ºn√ºm', 'benim g√ºn√ºm'] },
      { fr: "ta semaine", variants: ['haftanƒ±', 'senin haftanƒ±'] },
      { fr: "son mois", variants: ['ayƒ±', 'onun ayƒ±'] },
      { fr: "notre ann√©e", variants: ['yƒ±lƒ±mƒ±z', 'senemiz', 'bizim yƒ±lƒ±mƒ±z'] },
      { fr: "votre heure", variants: ['saatiniz', 'sizin saatiniz'] },
      { fr: "mon anniversaire", variants: ['doƒüum g√ºn√ºm', 'benim doƒüum g√ºn√ºm'] },
      
      // V√™tements
      { fr: "mon manteau", variants: ['palto', 'paltom', 'benim paltom'] },
      { fr: "ta chemise", variants: ['g√∂mleƒüin', 'senin g√∂mleƒüin'] },
      { fr: "son pantalon", variants: ['pantolonu', 'onun pantolonu'] },
      { fr: "nos chaussures", variants: ['ayakkabƒ±larƒ±mƒ±z', 'bizim ayakkabƒ±larƒ±mƒ±z'] },
      { fr: "vos lunettes", variants: ['g√∂zl√ºkleriniz', 'sizin g√∂zl√ºkleriniz'] },
      { fr: "mon chapeau", variants: ['≈üapkam', 'benim ≈üapkam'] },
      { fr: "ta cravate", variants: ['kravatƒ±n', 'senin kravatƒ±n'] },
      
      // Nourriture
      { fr: "mon pain", variants: ['ekmeƒüim', 'benim ekmeƒüim'] },
      { fr: "ton eau", variants: ['suyun', 'senin suyun'] },
      { fr: "son caf√©", variants: ['kahvesi', 'onun kahvesi'] },
      { fr: "notre th√©", variants: ['√ßayƒ±mƒ±z', 'bizim √ßayƒ±mƒ±z'] },
      { fr: "votre repas", variants: ['yemeƒüiniz', 'sizin yemeƒüiniz'] },
      { fr: "leur petit-d√©jeuner", variants: ['kahvaltƒ±larƒ±', 'onlarƒ±n kahvaltƒ±larƒ±'] },
      { fr: "mon fromage", variants: ['peynirim', 'benim peynirim'] },
      { fr: "ton fruit", variants: ['meyven', 'senin meyven'] },
      
      // √âtudes et travail
      { fr: "mon professeur", variants: ['√∂ƒüretmenim', 'benim √∂ƒüretmenim', 'hocam'] },
      { fr: "ton √©l√®ve", variants: ['√∂ƒürencin', 'senin √∂ƒürencin'] },
      { fr: "sa classe", variants: ['sƒ±nƒ±fƒ±', 'onun sƒ±nƒ±fƒ±'] },
      { fr: "notre universit√©", variants: ['√ºniversitemiz', 'bizim √ºniversitemiz'] },
      { fr: "votre dipl√¥me", variants: ['diplomanƒ±z', 'sizin diplomanƒ±z'] },
      { fr: "leur examen", variants: ['sƒ±navlarƒ±', 'onlarƒ±n sƒ±navlarƒ±'] },
      { fr: "mon coll√®gue", variants: ['meslekta≈üƒ±m', 'i≈ü arkada≈üƒ±m'] },
      { fr: "ta profession", variants: ['mesleƒüin', 'senin mesleƒüin'] },
      
      // Documents et administratif
      { fr: "mon passeport", variants: ['pasaportum', 'benim pasaportum'] },
      { fr: "ta carte d'identit√©", variants: ['kimliƒüin', 'senin kimliƒüin'] },
      { fr: "son billet", variants: ['bileti', 'onun bileti'] },
      { fr: "notre r√©servation", variants: ['rezervasyonumuz', 'bizim rezervasyonumuz'] },
      { fr: "votre adresse", variants: ['adresiniz', 'sizin adresiniz'] },
      { fr: "leur num√©ro", variants: ['numaralarƒ±', 'onlarƒ±n numaralarƒ±'] },
      { fr: "mon document", variants: ['belgem', 'benim belgem', 'd√∂k√ºmanƒ±m'] },
      
      // √âmotions et concepts abstraits
      { fr: "mon r√™ve", variants: ['r√ºyam', 'hayalim', 'benim r√ºyam'] },
      { fr: "ton probl√®me", variants: ['problemin', 'sorunun', 'senin problemin'] },
      { fr: "sa solution", variants: ['√ß√∂z√ºm√º', 'onun √ß√∂z√ºm√º'] },
      { fr: "notre espoir", variants: ['umudumuz', 'bizim umudumuz'] },
      { fr: "votre id√©e", variants: ['fikriniz', 'sizin fikriniz'] },
      { fr: "mon bonheur", variants: ['mutluluƒüum', 'benim mutluluƒüum'] },
      { fr: "ta peur", variants: ['korkunuz', 'senin korkunuz'] },
      
      // Divers
      { fr: "mon ami", variants: ['arkada≈üƒ±m', 'dostum', 'benim arkada≈üƒ±m'] },
      { fr: "ton voisin", variants: ['kom≈üun', 'senin kom≈üun'] },
      { fr: "son chien", variants: ['k√∂peƒüi', 'onun k√∂peƒüi'] },
      { fr: "notre voiture", variants: ['arabamƒ±z', 'otomobilimiz', 'bizim arabamƒ±z'] },
      { fr: "votre question", variants: ['sorunuz', 'sizin sorunuz'] },
      { fr: "leur r√©ponse", variants: ['cevaplarƒ±', 'onlarƒ±n cevaplarƒ±'] },
      { fr: "mon argent", variants: ['param', 'benim param'] },
      { fr: "ta valise", variants: ['bavulun', 'senin bavulun'] },
      { fr: "son histoire", variants: ['hikayesi', '√∂yk√ºs√º', 'onun hikayesi'] },
      { fr: "notre langue", variants: ['dilimiz', 'bizim dilimiz'] }
    ];

    let currentExercises = [];
    let totalScore = { correct: 0, total: 0 };

    function removeDiacritics(s) {
      return s
        .replace(/ƒü/g,'g').replace(/ƒû/g,'G')
        .replace(/√º/g,'u').replace(/√ú/g,'U')
        .replace(/≈ü/g,'s').replace(/≈û/g,'S')
        .replace(/ƒ±/g,'i').replace(/ƒ∞/g,'I')
        .replace(/√∂/g,'o').replace(/√ñ/g,'O')
        .replace(/√ß/g,'c').replace(/√á/g,'C')
        .replace(/\u015f/g,'s').replace(/\u011f/g,'g');
    }

    function canonicalize(s){
      if (!s) return '';
      s = s.toLowerCase();
      s = s.replace(/[.,;:!?]/g,' ');
      s = s.replace(/\s+/g,' ').trim();
      s = removeDiacritics(s);
      return s;
    }

    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }

    function generateExercises() {
      const shuffled = shuffleArray(allExercises);
      currentExercises = shuffled.slice(0, 8); // 8 exercices al√©atoires
      
      const list = document.getElementById('exerciseList');
      list.innerHTML = '';
      
      currentExercises.forEach((ex, idx) => {
        const li = document.createElement('li');
        li.className = 'exercise-item';
        li.innerHTML = `
          <strong>${idx + 1}.</strong> ${ex.fr}
          <input class="translation-input" data-index="${idx}" placeholder="Votre traduction en turc">
        `;
        list.appendChild(li);
      });

      // Add Enter key listener
      document.querySelectorAll('.translation-input').forEach(i => {
        i.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') checkAll();
        });
      });

      // Reset results
      document.getElementById('results').innerHTML = '';
    }

    function updateScore() {
      const scoreDisplay = document.getElementById('scoreDisplay');
      if (totalScore.total > 0) {
        scoreDisplay.style.display = 'block';
        document.getElementById('scoreCorrect').textContent = totalScore.correct;
        document.getElementById('scoreTotal').textContent = totalScore.total;
        
        const percentage = (totalScore.correct / totalScore.total) * 100;
        document.getElementById('progressFill').style.width = percentage + '%';
      }
    }

    function checkAll(){
      const inputs = document.querySelectorAll('.translation-input');
      const resultsDiv = document.getElementById('results');
      
      resultsDiv.innerHTML = '';
      let correctCount = 0;
      
      inputs.forEach((inp)=>{
        const idx = parseInt(inp.dataset.index, 10);
        const val = canonicalize(inp.value || '');
        const variants = currentExercises[idx].variants.map(canonicalize);
        const ok = variants.some(v => v === val || val.includes(v) || v.includes(val));
        const li = inp.closest('.exercise-item');
        
        // Remove previous hints
        const oldHint = li.querySelector('.small');
        if (oldHint) oldHint.remove();
        
        // Mark answer
        if (ok) {
          correctCount++;
          li.style.background = 'rgba(72,187,120,0.15)';
          li.style.borderLeft = '4px solid #48bb78';
        } else {
          li.style.background = 'rgba(229,62,62,0.1)';
          li.style.borderLeft = '4px solid #e53e3e';
          
          // Show expected answer
          const hint = document.createElement('div');
          hint.className = 'small';
          hint.textContent = '‚úì R√©ponse attendue : ' + currentExercises[idx].variants[0];
          li.appendChild(hint);
        }
      });

      // Update total score
      totalScore.correct += correctCount;
      totalScore.total += inputs.length;
      updateScore();

      // Display results
      if (correctCount === inputs.length) {
        resultsDiv.innerHTML = '<div style="background: rgba(72,187,120,0.2); color: #2f855a; padding: 15px; border-radius: 8px;">üéâ Parfait ! Toutes les r√©ponses sont correctes !</div>';
      } else {
        resultsDiv.innerHTML = `<div style="background: rgba(229,62,62,0.15); color: #c53030; padding: 15px; border-radius: 8px;">üìù ${correctCount}/${inputs.length} r√©ponses correctes. Continuez √† pratiquer !</div>`;
      }
    }

    function resetExercise() {
      document.querySelectorAll('.translation-input').forEach(i => {
        i.value = '';
        const li = i.closest('.exercise-item');
        li.style.background = '';
        li.style.borderLeft = '4px solid #e2e8f0';
        const hint = li.querySelector('.small');
        if (hint) hint.remove();
      });
      document.getElementById('results').innerHTML = '';
    }

    // Event listeners
    document.getElementById('checkBtn').addEventListener('click', checkAll);
    document.getElementById('resetBtn').addEventListener('click', resetExercise);
    document.getElementById('generateBtn').addEventListener('click', generateExercises);

    // Initialize
    generateExercises();
  </script>
</body>
</html>